/* Extracted from CA_CSS in main.js */
.ca-container { display:flex; flex-direction:column; height:100%; min-height:0; overflow-y:hidden; -webkit-overflow-scrolling: touch; scroll-padding-bottom: calc(var(--kb-inset, 0px) + 24px); transform: translateY(calc(-1 * var(--kb-inset, 0px))); transition: transform 180ms ease-out; will-change: transform; background:#1e1e1e; }
.view-content .ca-container { min-height: 0 !important; }
@media (pointer: fine) { .ca-container { transition: none; } }
.ca-chat { flex: 1 1 0%; min-height: 0; overflow-y: auto; -webkit-overflow-scrolling: touch; overscroll-behavior: contain; padding: 20px 20px; padding-bottom: calc(20px + var(--kb-inset, 0px)); border-radius: 0; background: #1e1e1e; margin-bottom: 0; box-sizing: border-box; display: block; }
.ca-messages { display: flex; flex-direction: column; gap: 16px; max-width: 820px; margin: 0 auto 0; width: 100%; }
.ca-msg { padding: 16px 22px; margin: 0; border-radius: 18px; max-width: 100%; line-height: 1.55; white-space: pre-wrap; position: relative; box-shadow: 0 2px 4px rgba(0,0,0,0.35); box-sizing: border-box; }
.ca-msg.user { background: #3b6fb6; align-self: flex-end; color: #ffffff; margin-left: 40px; }
.ca-msg.bot, .ca-msg.assistant { background: linear-gradient(135deg,#1e9f5a,#167a46); align-self: flex-start; color: #ecfdf5; margin-right: 40px; max-width: 100%; border: 1px solid #3ac27a; border-left: 6px solid #34d399; box-shadow: 0 2px 5px -1px rgba(0,0,0,0.45), 0 0 0 1px rgba(255,255,255,0.05), 0 0 0 3px rgba(52,211,153,0.14); }
.ca-controls { display:flex; flex-direction:column; gap:14px; padding:20px 20px 20px; background:#1e1e1e; border:1px solid #333; border-radius:20px; box-shadow: 0 14px 28px rgba(0,0,0,0.32); background-clip: padding-box; box-sizing:border-box; position:relative; margin: 0; transition: none; will-change: auto; }
.ca-controls.is-compact { background: transparent; border-color: transparent; box-shadow: none; padding-top: 4px; padding-bottom: 14px; }
.ca-controls.collapsed { display:none; }
.ca-controls input, .ca-controls textarea, .ca-controls button, .ca-controls .file-upload { width: 100%; padding: 14px 18px; border-radius: 14px; border: 1px solid #444; background: #2e2e2e; color: #e0e0e0; box-sizing: border-box; }
.ca-controls textarea { resize: vertical; min-height: 72px; line-height: 1.5; }
.ca-controls input::placeholder, .ca-controls textarea::placeholder { color: #8a8f98; opacity: 1; }
.ca-controls button { cursor:pointer; background:#3b6fb6; border:none; font-weight:500; transition:background .2s; }
.ca-controls button:hover { background:#4886d6; }
.ca-controls .row { display:flex; gap:14px; }
.ca-row { display:flex; gap:14px; flex-wrap:wrap; }
.ca-portion-row { flex-wrap: nowrap; align-items: center; }
.ca-file-row { align-items:flex-start; }
.ca-file-wrap { display:flex; flex-direction:column; gap:6px; flex: 1 1 100%; width:100%; }
.ca-file-input { display:none; }
.ca-file-btn { background:#2ea043 !important; color:#fff; border:none; padding:14px 22px; border-radius:24px; font-weight:500; font-size:14px; cursor:pointer; line-height:1.2; box-shadow:0 2px 4px rgba(0,0,0,0.35); transition:background .2s, transform .1s; text-align:center; min-width:180px; width: 100%; }
.ca-file-btn:hover { background:#3fb950 !important; }
.ca-file-btn:active { transform:translateY(1px); }
.ca-file-btn:focus-visible { outline:2px solid #c23c55; outline-offset:2px; }
.ca-file-name { display:none; }
.ca-file-thumb { width: 120px; height: 90px; object-fit: cover; border-radius: 10px; border:1px solid #3d3d3d; box-shadow:0 1px 2px rgba(0,0,0,0.35); }
.ca-controls-rest { display:flex; flex-direction:column; gap:14px; overflow:hidden; transition: max-height .26s ease, opacity .2s ease; will-change: max-height; }
.ca-controls-rest.is-collapsed { max-height: 0px; opacity:0; pointer-events:none; }
.ca-controls-rest.is-open { opacity:1; }
.ca-chevron-wrap { display:flex; justify-content:center; align-items:center; margin: 4px 0 10px; }
.ca-controls.is-compact .ca-chevron-wrap { margin-bottom: 16px; }
.ca-chevron-btn { background: transparent; border: none; padding: 0; cursor: pointer; color: rgba(207,212,220,0.55); }
.ca-chevron-btn:hover { color: rgba(207,212,220,0.85); }
.ca-chevron-svg { width: 32px; height: 10px; display:block; transition: transform .35s ease; opacity: .75; filter: drop-shadow(0 1px 0 rgba(0,0,0,0.2)); }
.ca-chevron-btn.collapsed .ca-chevron-svg { transform: rotate(180deg); }
.ca-tabs { display:flex; gap:0; align-items:stretch; margin: 6px 0 10px; background: #26262a; border: 1px solid #3a3a3f; border-radius: 20px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.20); }
.ca-tab { flex:1 1 0; display:flex; align-items:center; justify-content:center; padding: 12px 14px; background: transparent; border: none; position: relative; z-index: 0; border-radius: 0; color:#cbcfe0; cursor:pointer; user-select:none; transition: background .18s ease, color .18s ease; position: relative; }
.ca-controls .ca-tabs .ca-tab { background: transparent !important; border: none !important; border-radius: 0 !important; box-shadow: none !important; -webkit-appearance: none; }
.ca-tab:hover { color:#e8eaf2; }
.ca-tab[aria-selected="true"] { color:#ffffff; font-weight:600; background: rgba(255,255,255,0.06); }
.ca-tab:not(:last-child)::after { content: ""; position: absolute; right: 0; top: 0; height: 100%; width: 1px; background: #3a3a3f; }
.ca-tab:focus-visible { outline:2px solid #22c55e; outline-offset:2px; }
.ca-tab-panel { display:none; flex-direction:column; gap:14px; }
.ca-tab-panel.active { display:flex; }
.ca-tab-panels-wrap { overflow: hidden; transition: height .24s ease; }
.ca-tab-panel input, .ca-tab-panel textarea { scroll-margin-bottom: calc(var(--kb-inset, 0px) + 24px); }
.ca-card { background: #2a2a2a; border: 1px solid #3d3d3d; border-left: 4px solid #c23c55; padding: 16px 18px; border-radius: 18px; margin: 16px 0 4px; max-width: 100%; width: 100%; box-shadow: 0 1px 3px rgba(0,0,0,0.4); box-sizing: border-box; }
.ca-card-title { font-weight:600; font-size:15px; margin-bottom:6px; color:#ffd7dc; }
@media (max-width: 640px) { .ca-msg.user { margin-left: 24px; } .ca-msg.bot { margin-right: 24px; } .ca-chat { padding:16px 14px; } .ca-controls { padding:16px 14px 70px; } }
.ca-bottom-spacer { height: 6px; width:100%; pointer-events:none; opacity:0.5; }
.ca-controls.is-compact .ca-bottom-spacer, .ca-controls-rest.is-collapsed + .ca-bottom-spacer { height: 0; }
.ca-header { padding:8px 20px 12px 28px; }
.ca-header h2 { margin:0; }
.ca-card-sub { font-size:12px; opacity:0.75; margin-bottom:8px; }
.ca-card-macros { font-family: ui-monospace, SFMono-Regular, Menlo, monospace; font-size:12.5px; background:rgba(255,255,255,0.04); padding:8px 10px; border-radius:10px; margin-bottom:8px; }
.ca-card-portion { font-size:12.5px; margin-top:6px; color:#ffe2e6; }
.ca-collapse-btn { position: absolute; top: 6px; right: 76px; padding: 4px 10px; font-size: 12px; border-radius: 8px; border: 1px solid #444; background: #3b3b3b; color: #e0e0e0; cursor: pointer; }
.ca-refresh-table-btn, .ca-delete-meal-btn { background: #3b6fb6; color: #fff; border: none; border-radius: 10px; padding: 6px 12px; cursor: pointer; }
.ca-delete-meal-btn { background: #c23c55; }
.ca-meal-actions { margin-top: 8px; }

